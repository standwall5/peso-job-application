/**
 * Zoom-Aware UI Adjustments
 * Automatically adjusts UI when browser is zoomed to 125%, 150%, etc.
 */

/* ============================================
   BASE ZOOM DETECTION
   ============================================ */

/* Normal zoom (100%) - No adjustments needed */
body.zoom-normal {
  --zoom-font-scale: 1;
  --zoom-spacing-scale: 1;
  --zoom-padding-scale: 1;
}

/* 125% Zoom - Slight adjustments */
body.zoom-125 {
  --zoom-font-scale: 0.95;
  --zoom-spacing-scale: 0.92;
  --zoom-padding-scale: 0.9;
}

/* 150% Zoom - More adjustments */
body.zoom-150 {
  --zoom-font-scale: 0.9;
  --zoom-spacing-scale: 0.85;
  --zoom-padding-scale: 0.8;
}

/* 175%+ Zoom - Aggressive adjustments */
body.zoom-high {
  --zoom-font-scale: 0.85;
  --zoom-spacing-scale: 0.75;
  --zoom-padding-scale: 0.7;
}

/* ============================================
   TYPOGRAPHY ADJUSTMENTS
   ============================================ */

/* Scale down headings at high zoom */
body.zoom-125 h1 { font-size: calc(2rem * var(--zoom-font-scale)); }
body.zoom-125 h2 { font-size: calc(1.75rem * var(--zoom-font-scale)); }
body.zoom-125 h3 { font-size: calc(1.5rem * var(--zoom-font-scale)); }

body.zoom-150 h1 { font-size: calc(2rem * var(--zoom-font-scale)); }
body.zoom-150 h2 { font-size: calc(1.75rem * var(--zoom-font-scale)); }
body.zoom-150 h3 { font-size: calc(1.5rem * var(--zoom-font-scale)); }

body.zoom-high h1 { font-size: calc(2rem * var(--zoom-font-scale)); }
body.zoom-high h2 { font-size: calc(1.75rem * var(--zoom-font-scale)); }
body.zoom-high h3 { font-size: calc(1.5rem * var(--zoom-font-scale)); }

/* ============================================
   LAYOUT ADJUSTMENTS
   ============================================ */

/* Reduce padding on containers at high zoom */
body.zoom-125 .container,
body.zoom-125 [class*="container"] {
  padding-left: calc(1rem * var(--zoom-padding-scale));
  padding-right: calc(1rem * var(--zoom-padding-scale));
}

body.zoom-150 .container,
body.zoom-150 [class*="container"] {
  padding-left: calc(1rem * var(--zoom-padding-scale));
  padding-right: calc(1rem * var(--zoom-padding-scale));
}

body.zoom-high .container,
body.zoom-high [class*="container"] {
  padding-left: calc(0.75rem * var(--zoom-padding-scale));
  padding-right: calc(0.75rem * var(--zoom-padding-scale));
}

/* ============================================
   SIDEBAR ADJUSTMENTS
   ============================================ */

/* Reduce sidebar width at high zoom to preserve content space */
body.zoom-150 aside,
body.zoom-150 .sidebar,
body.zoom-150 [class*="sidebar"] {
  max-width: 220px;
}

body.zoom-high aside,
body.zoom-high .sidebar,
body.zoom-high [class*="sidebar"] {
  max-width: 200px;
}

/* ============================================
   FORM ELEMENTS
   ============================================ */

/* Ensure form elements remain usable at high zoom */
body.zoom-125 input,
body.zoom-125 textarea,
body.zoom-125 select,
body.zoom-125 button {
  font-size: calc(1rem * var(--zoom-font-scale));
  padding: calc(0.75rem * var(--zoom-padding-scale)) calc(1rem * var(--zoom-padding-scale));
}

body.zoom-150 input,
body.zoom-150 textarea,
body.zoom-150 select,
body.zoom-150 button {
  font-size: calc(0.95rem * var(--zoom-font-scale));
  padding: calc(0.65rem * var(--zoom-padding-scale)) calc(0.9rem * var(--zoom-padding-scale));
}

body.zoom-high input,
body.zoom-high textarea,
body.zoom-high select,
body.zoom-high button {
  font-size: calc(0.9rem * var(--zoom-font-scale));
  padding: calc(0.6rem * var(--zoom-padding-scale)) calc(0.8rem * var(--zoom-padding-scale));
}

/* ============================================
   TABLE ADJUSTMENTS
   ============================================ */

/* Make tables more compact at high zoom */
body.zoom-125 table td,
body.zoom-125 table th {
  padding: calc(0.75rem * var(--zoom-padding-scale)) calc(1rem * var(--zoom-padding-scale));
  font-size: calc(0.95rem * var(--zoom-font-scale));
}

body.zoom-150 table td,
body.zoom-150 table th {
  padding: calc(0.5rem * var(--zoom-padding-scale)) calc(0.75rem * var(--zoom-padding-scale));
  font-size: calc(0.9rem * var(--zoom-font-scale));
}

body.zoom-high table td,
body.zoom-high table th {
  padding: calc(0.4rem * var(--zoom-padding-scale)) calc(0.6rem * var(--zoom-padding-scale));
  font-size: calc(0.85rem * var(--zoom-font-scale));
}

/* ============================================
   MODAL/DIALOG ADJUSTMENTS
   ============================================ */

/* Ensure modals don't overflow at high zoom */
body.zoom-150 .modal,
body.zoom-150 [class*="modal"],
body.zoom-150 dialog {
  max-width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
}

body.zoom-high .modal,
body.zoom-high [class*="modal"],
body.zoom-high dialog {
  max-width: 95vw;
  max-height: 95vh;
  overflow-y: auto;
}

/* ============================================
   CARD COMPONENTS
   ============================================ */

/* Reduce card padding at high zoom */
body.zoom-125 .card,
body.zoom-125 [class*="card"] {
  padding: calc(1.25rem * var(--zoom-padding-scale));
}

body.zoom-150 .card,
body.zoom-150 [class*="card"] {
  padding: calc(1rem * var(--zoom-padding-scale));
}

body.zoom-high .card,
body.zoom-high [class*="card"] {
  padding: calc(0.75rem * var(--zoom-padding-scale));
}

/* ============================================
   NAVIGATION ADJUSTMENTS
   ============================================ */

/* Make nav items more compact at high zoom */
body.zoom-150 nav a,
body.zoom-150 nav button {
  padding: calc(0.6rem * var(--zoom-padding-scale)) calc(0.8rem * var(--zoom-padding-scale));
  font-size: calc(0.95rem * var(--zoom-font-scale));
}

body.zoom-high nav a,
body.zoom-high nav button {
  padding: calc(0.5rem * var(--zoom-padding-scale)) calc(0.7rem * var(--zoom-padding-scale));
  font-size: calc(0.9rem * var(--zoom-font-scale));
}

/* ============================================
   GRID ADJUSTMENTS
   ============================================ */

/* Reduce grid gaps at high zoom */
body.zoom-125 .grid,
body.zoom-125 [class*="grid"] {
  gap: calc(1.5rem * var(--zoom-spacing-scale));
}

body.zoom-150 .grid,
body.zoom-150 [class*="grid"] {
  gap: calc(1.25rem * var(--zoom-spacing-scale));
}

body.zoom-high .grid,
body.zoom-high [class*="grid"] {
  gap: calc(1rem * var(--zoom-spacing-scale));
}

/* ============================================
   NOTIFICATION/ALERT ADJUSTMENTS
   ============================================ */

body.zoom-150 .notification,
body.zoom-150 .alert,
body.zoom-150 [class*="notification"],
body.zoom-150 [class*="alert"] {
  padding: calc(0.75rem * var(--zoom-padding-scale));
  font-size: calc(0.95rem * var(--zoom-font-scale));
}

body.zoom-high .notification,
body.zoom-high .alert,
body.zoom-high [class*="notification"],
body.zoom-high [class*="alert"] {
  padding: calc(0.6rem * var(--zoom-padding-scale));
  font-size: calc(0.9rem * var(--zoom-font-scale));
}

/* ============================================
   RESPONSIVE BREAKPOINT ADJUSTMENTS
   ============================================ */

/* At 150% zoom on 1920px screen, effective width is ~1280px */
/* Treat it like a smaller screen */
@media (min-width: 1920px) {
  body.zoom-150 {
    /* Apply tablet-like styles */
  }
  
  body.zoom-high {
    /* Apply mobile-like styles */
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Hide elements on high zoom if needed */
.hide-on-zoom-150 {
  display: block;
}

body.zoom-150 .hide-on-zoom-150,
body.zoom-high .hide-on-zoom-150 {
  display: none;
}

/* Show elements only on high zoom */
.show-on-zoom-150 {
  display: none;
}

body.zoom-150 .show-on-zoom-150,
body.zoom-high .show-on-zoom-150 {
  display: block;
}

/* Compact mode on zoom */
.zoom-compact {
  /* Normal size by default */
}

body.zoom-150 .zoom-compact,
body.zoom-high .zoom-compact {
  padding: calc(0.5rem * var(--zoom-padding-scale));
  font-size: calc(0.9rem * var(--zoom-font-scale));
}
